<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h1>Movies</h1>
    <input type="text">
    <button>Create</button>
    
    <main>
        <div class="movie-card">
            <h2>Infinity war. Avengers!</h2>
            <iframe src="https://www.youtube.com/embed/rrGMENN1iaY" 
                width="100%" 
                height="200"
            ></iframe>
            <div class="card-footer">
                <span class="date-of-movie">2020-10-10</span>
                <span class="genre">Thriller</span>
            </div>
            <hr width="50%">
            <div>
                <input class="video-link" type="text">
                <button onclick="setVideo(event)">Set video link</button>
            </div>
        </div>
    </main>

    <script>
        const input = document.querySelector('input');
        const button = document.querySelector('button');
        const main = document.querySelector('main');


        let counter = 1
        function create_movie_card(e) {
            e.preventDefault()
            counter ++
            const title = input.value ? input.value : `Movie ${counter}`;
            input.value = ""

            const card = `
                <div class="movie-card">
                    <h2>${title}</h2>
                    <iframe src="https://www.youtube.com/embed/" 
                        width="100%" 
                        height="200"
                    ></iframe>
                    <div class="card-footer">
                        <span class="date-of-movie">2020-10-10</span>
                        <span class="genre">Thriller</span>
                    </div>
                    <hr width="50%">
                    <div>
                        <input class="video-link" type="text">
                        <button onclick="setVideo(event)">Set video link</button>
                    </div>
                </div>
            `
            main.innerHTML += card

            // const div_main  = document.createElement('div')
            // const h2        = document.createElement('h2')
            // const iframe    = document.createElement('iframe')
            // const div_footer = document.createElement('div')
            // const span_date = document.createElement('span')
            // const span_genre = document.createElement('span')
            // div_main.setAttribute('class', 'movie-card')
            // // heading
            // h2.innerText = title
            // div_main.append(h2)
            // // ---------------------------------------------
            // // iframe
            // iframe.src = 'https://www.youtube.com/embed/'
            // iframe.width = '100%'
            // iframe.height = '200'
            // div_main.append(iframe)
            // // ---------------------------------------------
            // // footer
            // div_footer.setAttribute('class', 'card-footer')
            // span_date.innerHTML = new Date().toLocaleDateString()
            // span_genre.innerHTML = 'History'
            // span_date.setAttribute('class', 'date-of-movie')
            // span_genre.setAttribute('class', 'genre')
            // div_footer.append(span_date)
            // div_footer.append(span_genre)
            // div_main.append(div_footer)
            // // ================================================
            // main.append(div_main)
        }

        function setVideo(e) {
            e.preventDefault()
            const target_div = e.target.parentElement.parentElement
            const input = target_div.querySelector('.video-link')
            const iframe = target_div.querySelector('iframe')
            iframe.src += input.value
            input.value = ""
        }

        // ====================================================
        button.addEventListener('click', create_movie_card)
    </script>
</body>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        transition: 0.5s;
    }
    body {
        text-align: center;
        background-color: #eee;
    }
    main {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        padding: 10px;
        margin-top: 10px;
    }
    .movie-card {
        background: linear-gradient(45deg, 
                                    #333, 
                                    #fbfbfb, 
                                    #ffbb, 
                                    #333);
        padding: 15px;
        border-radius: 5px;
        color: #111;
    }

    .card-footer {
        padding: 15px;
        background-color: rgb(0,0,0, 0.2);
        display: flex;
        justify-content: space-between;
        border-radius: 10px;
    }

    .genre {
        background-color: orange;
        padding: 5px 10px;
        border-radius: 20px;
        margin-left: 10px;
        font-size: small;
        font-weight: bold;
        color: snow;
    }
    iframe {
        border-radius: 5px;
        border: none;
        outline: none;
    }

    input, button {
        padding: 10px 20px;
        border-radius: 10px;
        border: none;
        background-color: lightgray;
        margin: 10px;
        outline: none;
        width: 400px;
    }
    button {
        cursor: pointer;
        width: 200px;
        background-color: gray;
        color: snow;
    }
    input:focus {
        background-color: darkcyan;
        color: snow;
    }
    button:hover {background-color: darkcyan;}


    .movie-card input,
    .movie-card button {
        width: 80%;
        margin: 5px auto;
        display: block;
        background-color: silver;
    }
    .movie-card button:hover {background-color: green; }
    .movie-card button:active { transform: scale(0.5); }
    .movie-card input:focus { background-color: darkcyan; }

    .movie-card hr { margin: 10px auto; }
</style>
</html>